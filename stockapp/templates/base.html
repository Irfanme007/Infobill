{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>{% block title %}Dashboard{% endblock %}</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Roboto Font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Heroicons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <link rel="icon" href="{% static 'stockapp/images/favicon.ico' %}" type="image/x-icon">
  {% block head %}{% endblock %}
</head>
<body class="bg-gray-100 font-roboto">

  <!-- ✅ Navigation -->
  <nav class="bg-teal-800 text-white px-6 py-4 shadow-md flex items-center justify-between print:hidden">
    <div class="flex items-center gap-4">
      <button class="hamburger md:hidden text-2xl focus:outline-none" onclick="toggleMenu()">
        <i data-feather="menu"></i>
      </button>
      <a href="{% url 'dashboard' %}" class="text-lg font-semibold hover:text-gray-300 flex items-center gap-2">
        <i data-feather="home"></i> Dashboard
      </a>
    </div>

    <!-- Desktop Menu -->
    <div class="hidden md:flex space-x-6 items-center">
      <!-- Products -->
      <!-- <div class="group relative">
        <button class="hover:text-gray-300 flex items-center gap-1">
          <i data-feather="box"></i> Products & Updates
        </button>
        <div class="absolute hidden group-hover:block bg-teal-700 p-2 rounded shadow-lg space-y-1 z-50">
          <a href="{% url 'product-listing' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">List Products</a>
          <a href="{% url 'update' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Add Updates</a>
        </div>
      </div> -->

      <!-- Purchases -->
      <div class="group relative">
        <button class="hover:text-gray-300 flex items-center gap-1">
          <i data-feather="shopping-cart"></i> Purchases & Stock
        </button>
        <div class="absolute hidden group-hover:block bg-teal-700 p-2 rounded shadow-lg space-y-1 z-50">
          <a href="{% url 'purchase-return-page' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Purchase Returns</a>
          <a href="{% url 'purchase-report' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Purchase Report</a>
          <a href="{% url 'supplier-management' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Add Products</a>
          <a href="{% url 'stock-report' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Stock Report</a>
        </div>
      </div>

      <!-- Sales -->
      <div class="group relative">
        <button class="hover:text-gray-300 flex items-center gap-1">
          <i data-feather="dollar-sign"></i> Sales & Reports
        </button>
        <div class="absolute hidden group-hover:block bg-teal-700 p-2 rounded shadow-lg space-y-1 z-50">
          <a href="{% url 'customer-management' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Billing</a>
          <a href="{% url 'sales-report' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Sales Report</a>
          <a href="{% url 'sales-return' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Sales Return</a>
          <a href="{% url 'tally-report' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Day Closing</a>
        </div>
      </div>

      <!-- Customers & Suppliers -->
      <div class="group relative">
        <button class="hover:text-gray-300 flex items-center gap-1">
          <i data-feather="users"></i> Customers & Suppliers
        </button>
        <div class="absolute hidden group-hover:block bg-teal-700 p-2 rounded shadow-lg space-y-1 z-50">
          <a href="{% url 'customers' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Customers Details</a>
          <a href="{% url 'suppliers' %}" class="block hover:bg-amber-300 hover:text-gray-900 px-2 py-1 rounded">Suppliers Details</a>
        </div>
      </div>

      <!-- Logout -->
      <a href="{% url 'logout' %}" class="hover:text-red-400 flex items-center gap-1">
        <i data-feather="log-out"></i> Logout
      </a>
    </div>
  </nav>

  <!-- ✅ Mobile Menu -->
  <div class="mobile-menu hidden bg-teal-900 text-white p-4 space-y-3 md:hidden">
    <a href="{% url 'product-listing' %}" class="block hover:text-amber-400">List Products</a>
    <a href="{% url 'update' %}" class="block hover:text-amber-400">Add Updates</a>
    <a href="{% url 'purchase-return-page' %}" class="block hover:text-amber-400">Purchase Returns</a>
    <a href="{% url 'purchase-report' %}" class="block hover:text-amber-400">Purchase Report</a>
    <a href="{% url 'supplier-management' %}" class="block hover:text-amber-400">Add Products</a>
    <a href="{% url 'stock-report' %}" class="block hover:text-amber-400">Stock Report</a>
    <a href="{% url 'customer-management' %}" class="block hover:text-amber-400">Billing</a>
    <a href="{% url 'sales-report' %}" class="block hover:text-amber-400">Sales Report</a>
    <a href="{% url 'tally-report' %}" class="block hover:text-amber-400">Day Closing</a>
    <a href="{% url 'sales-return' %}" class="block hover:text-amber-400">Sales Return</a>
    <a href="{% url 'logout' %}" class="block hover:text-red-400">Logout</a>
  </div>

  <!-- ✅ Main Content -->
  <div class="w-full px-4 py-6">
    {% block content %}
    {% endblock %}
  </div>

  <!-- ✅ Scripts -->
  <script>
    function toggleMenu() {
      const menu = document.querySelector(".mobile-menu");
      menu.classList.toggle("hidden");
    }
    feather.replace(); // Replace all feather icon placeholders
  </script>

  {% block extra_js %}
  {% endblock %}
</body>
</html>
